
CREATE DATABASE IF NOT EXISTS `core`;

USE `core`;

DROP TABLE IF EXISTS `campaigns`;
CREATE TABLE `campaigns` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `type` CHARACTER(3),
  `title` VARCHAR(40) DEFAULT '',
  `start_date` TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00',
  `end_date` TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00',
  `active` INTEGER(1) NOT NULL DEFAULT 0,
  `updated_at` TIMESTAMP NOT NULL DEFAULT now() ON UPDATE now(),
  `created_at` TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `categories`;
CREATE TABLE `categories` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(40) NOT NULL,
  `description` VARCHAR(300) DEFAULT '',
  `updated_at` TIMESTAMP NOT NULL DEFAULT now() ON UPDATE now(),
  `created_at` TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `creatives`;
CREATE TABLE `creatives` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(40) NOT NULL,
  `url` VARCHAR(2048) DEFAULT '',
  `campaign_id` INT NOT NULL,
  `updated_at` TIMESTAMP NOT NULL DEFAULT now() ON UPDATE now(),
  `created_at` TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `campaigns_categories`;
CREATE TABLE `campaigns_categories` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `campaign_id` INT NOT NULL,
  `category_id` INT NOT NULL,
  `updated_at` TIMESTAMP NOT NULL DEFAULT now() ON UPDATE now(),
  `created_at` TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
